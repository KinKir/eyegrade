<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <title>Eyegrade: create answer boxes</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <style>
            body {
                margin-left: auto;
                margin-right: auto;
                max-width: 800px;
                min-width: 320px;
                padding-left: 1rem;
                padding-right: 1rem;
            }
            .exam_config input {
                width: 100%;
            }
            #config_form {
                width: 100%;
            }
            #answer_box {
                width: 90%;
            }
            @media (min-width: 700px) {
                #config_form {
                    width: 45%;
                }
                #answer_box {
                    width: 50%;
                }
            }
            #answer_box {
                border: 2px solid rgb(32, 73, 124);
                margin: 3px;
                align-self: center;
                flex: 0 0 auto;
            }
            .exam_config {
                display: grid;
                grid-template-columns: 1fr 1em 1fr;
                grid-gap: 0.3em 0.6em;
                grid-auto-flow: dense;
                align-items: center;
            }
           .exam_config input, .exam_config select {
                grid-column: 2 / 4;
                width: auto;
                margin: 0;
            }
            .exam_config input[type="checkbox"] {
                grid-column: 1 / 3;
                justify-self: end;
                margin: 0;
            }
            form {
                max-width: 640px;
                margin-bottom: 1rem;
                margin-right: 1rem;
            }
            #editor_container {
                display: flex;
                flex-wrap: wrap;
            }
            #hidden_canvas {
                display: none;
            }
            #download {
                background-color: rgb(32, 73, 124);
                border: 0;
                color: white;
                font-family: sans-serif;
                font-weight: 600;
                line-height: 1;
                margin-top: 1rem;
                width: 100%;
                min-width: 10rem;
                border-radius: 0.75rem;
                font-size: 1.2em;
                letter-spacing: 1px;
                min-height: 3rem;

                @media (min-width: 37.5em) {
                    width: auto;
                    padding-left: 2rem;
                    padding-right: 2rem;
                    margin-left: 1rem;
                    margin-right: 1rem;
                }
            }
            #download:hover {
                filter: brightness(125%);
            }
            #download:active {
                filter: brightness(150%);
            }
            #download:focus {
                outline: 0;
            }
            fieldset {
                border-color:rgb(32, 73, 124);
                border-width: 2px;
                border-radius: 0.75rem;
                margin-bottom: 1rem;
            }
            fieldset legend {
                color:rgb(32, 73, 124);
                font-weight: 800;
            }
            img.logo {
                vertical-align: middle;
            }
            .title_text {
                vertical-align: middle;
                margin-left: 0.2rem;
                color:rgb(23, 54, 92);
                text-decoration: none;
            }
            span.subtitle {
                vertical-align: middle;
                color: rgb(60, 60, 60);
                margin-left: 0.5rem;
                font-weight: normal;
            }
            h1 {
                margin-bottom: 2rem;
            }
        </style>
    </head>
    <body>
        <h1><a href="https://www.eyegrade.org/"><img class="logo" src="logo.svg" width="28"></a><a class="title_text" href="https://www.eyegrade.org/">Eyegrade</a>
            <span class="subtitle">Answer box editor (beta)</span></h1>
        <div id="editor_container">
            <form id="config_form">
                <fieldset>
                    <legend>Exam structure</legend>
                    <div class="exam_config">
                        <label for="num_questions">Questions</label>
                        <input type="number" name="num_questions" value="20" min="3" max="100">
                        <label for="num_choices">Choices per question</label>
                        <input type="number" name="num_choices" value="3" min="2" max="6">
                        <label for="num_models">Number of models</label>
                        <select name="num_models">
                            <option value="1" selected>1 model (A)</option>
                            <option value="2">2 models (A to B)</option>
                            <option value="3">3 models (A to C)</option>
                            <option value="4">4 models (A to D)</option>
                            <option value="5">5 models (A to E)</option>
                            <option value="6">6 models (A to F)</option>
                            <option value="7">7 models (A to G)</option>
                            <option value="8">8 models (A to H)</option>
                        </select>
                        <input type="checkbox" name="print_model_letter" checked>
                        <label for="print_model_letter">Show model letter</label>
                    </div>
               </fieldset>
                <fieldset>
                    <legend>Student id</legend>
                    <div class="exam_config">
                        <input type="checkbox" name="read_id" checked>
                        <label for="read_id">Read student id</label>
                        <label for="num_id_digits">Number of digits</label>
                        <input type="number" name="num_id_digits" value="8" min="5" max="16">
                        <label for="id_box_label">Label</label>
                        <input type="text" name="id_box_label" value="Id:" maxlength="12">
                    </div>
                </fieldset>
                <input id="download" type="button" value="Download">
            </form>
            <canvas id="answer_box" width="448" height="336"></canvas>
        </div>
        <div id="hidden_canvas">
            <canvas id="model_A"  width="640" height="480"></canvas>
            <canvas id="model_B"  width="640" height="480"></canvas>
            <canvas id="model_C"  width="640" height="480"></canvas>
            <canvas id="model_D"  width="640" height="480"></canvas>
            <canvas id="model_E"  width="640" height="480"></canvas>
            <canvas id="model_F"  width="640" height="480"></canvas>
            <canvas id="model_G"  width="640" height="480"></canvas>
            <canvas id="model_H"  width="640" height="480"></canvas>
        </div>
        <script src="eyegrade-boxes.js"></script>
        <script src="jszip.min.js"></script>
        <script src="FileSaver.js"></script>
    </body>
</html>
